#include "DHT.h"

#define DHTPIN 2     
#define DHTTYPE DHT11   

#include <Adafruit_GFX.h>

#include <Arduino_ST7789.h>

#include <SPI.h>
DHT dht(DHTPIN, DHTTYPE);

 

#define TFT_DC    8

#define TFT_RST   9

#define TFT_MOSI  11

#define TFT_SCLK  13

 

Arduino_ST7789 tft = Arduino_ST7789(TFT_DC, TFT_RST); 


 

void setup(void)

{

  Serial.begin(9600);
  dht.begin();
 

  tft.init(240, 240);   

  tft.fillScreen(BLACK);

 

 
}

 

void loop()

{


tft.fillScreen(BLACK);
  // Reading temperature or humidity takes about 250 ms.
  float h = dht.readHumidity();
  float t = dht.readTemperature();
  float f = dht.readTemperature(true);

  // Check if any reads failed 
  if (isnan(h) || isnan(t) || isnan(f)) {
    Serial.println(F("Failed to read from sensor. Fix me Tom"));
    return;
  }
 

  tft.setCursor(0, 10);

  tft.setTextColor(RED);

  tft.setTextSize(2);

  tft.println("Weather Station");

  tft.setCursor(0, 40);

  tft.setTextColor(GREEN);

  tft.setTextSize(3);

  tft.println("Humidity: ");

  tft.setCursor(159, 43);
   tft.setTextSize(2.5);

  tft.println(h);
   tft.setCursor(0, 80);


  tft.setTextSize(3);

  tft.print("Temp(C): ");
  tft.setCursor(159, 83);
   tft.setTextSize(2.5);

  tft.println(t);
  
  

  //design
  tft.drawLine(10, 220, 239, 220, WHITE);
  tft.fillCircle(70, 220, 10, YELLOW);

  tft.drawCircle(70, 220, 10, CYAN);
  tft.fillTriangle(120, 210, 110, 230, 130, 230, MAGENTA);

  tft.drawTriangle(120, 210, 110, 230, 130, 230, WHITE);

  tft.fillCircle(170, 220, 10, YELLOW);
  tft.drawCircle(170, 220, 10, CYAN);
  delay(25000);
 
}

 
